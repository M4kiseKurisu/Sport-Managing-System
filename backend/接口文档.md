# 接口文档

## 一、用户相关

### 1.1 用户登录验证

请求 URL：`http://127.0.0.1:8000/api/user/login`

请求方式：`GET`

查询参数：

| 参数     | 说明               |
| -------- | ------------------ |
| account  | 账号、string、必需 |
| password | 密码、string、必需 |

```json
{
	"account": "manager",
    "password": "fyb123",
}
```

返回响应：

| 数据      | 说明              |
| --------- | ----------------- |
| msg       | 返回说明、string  |
| status    | 登录状态、boolean |
| uid       | 用户id、int       |
| user_name | 用户名、string    |

```json
{
    "msg": "登录成功",
    "status": true,
    "uid": 2135220,
    "user_name": "贴吧第一美男子"
}
```



### 1.2 用户注册

请求 URL：`http://127.0.0.1:8000/api/user/register`

请求方式：`POST`

请求参数（application/json）：

| 参数           | 说明                                  |
| -------------- | ------------------------------------- |
| account        | 账号、string、必选                    |
| password       | 密码、string、必选                    |
| user_name      | 用户名、string、必选                  |
| user_age       | 用户年龄、string、必选                |
| user_gender    | 用户性别、int、必选、0表示女，1表示男 |
| phone_number   | 电话号码、int、必选                   |
| email          | 邮箱、string、必选                    |
| user_signature | 个性签名、string、必选                |

```json
{
    "account": "manager",
    "password": "fyb123",
    "user_name": "贴吧第一美男子",
    "user_age": 10,
    "user_gender": 0,
    "phone_number": 12345678910,
    "email": "sb@outlook.com",
    "user_signature": "抽象"
}
```

返回响应：

| 数据      | 说明             |
| --------- | ---------------- |
| msg       | 返回说明、string |
| uid       | 用户id、int      |
| user_name | 用户名、string   |

```json
{
    "msg": "注册成功",
    "uid": 2135220,
    "user_name": "贴吧第一美男子"
}
```

<br>

## 二、团体相关

### 2.1 用户创建团体

请求 URL：`http://127.0.0.1:8000/api/group/create`

请求方式：`POST`

请求参数（application/json）：

| 参数       | 说明                   |
| ---------- | ---------------------- |
| uid        | 用户id、int、必选      |
| group_name | 团体名、string、必选   |
| group_desc | 团体描述、string、必选 |

```json
{
    "uid": 2135220,
    "group_name": "buaa",
    "group_desc": "世界第一大专"
}
```

返回响应：

| 数据       | 说明             |
| ---------- | ---------------- |
| msg        | 返回说明、string |
| group_name | 团体名、string   |
| gid        | 团体id、int      |

```json
{
    "msg": "团体创建成功",
    "group_name": "buaa",
    "gid": 63227680
}
```

前端约束：

- 保证用户 uid 已经注册到数据库中



### 2.2 用户申请加入团体

请求 URL：`http://127.0.0.1:8000/api/group/join`

请求方式：`POST`

请求参数（application/json）：

| 参数    | 说明                   |
| ------- | ---------------------- |
| uid     | 用户id、int、必选      |
| gid     | 团体id、int、必选      |
| content | 申请信息、string、必选 |

```json
{
    "uid": 30359251,
    "gid": 63227680,
    "content": "我要上摆航"
}
```

返回响应：

| 数据   | 说明              |
| ------ | ----------------- |
| msg    | 返回说明、string  |
| status | 申请状态、boolean |

```json
{
    "msg": "申请信息已发送",
    "status": true
}
```

前端约束：

- 保证 uid、gid 相关数据在数据库中
- 保证用户 uid 未加入团体 gid



### 2.3 查看团体申请信息

请求 URL：`http://127.0.0.1:8000/api/group/apply`

请求方式：`GET`

查询参数：

| 参数       | 说明                      |
| ---------- | ------------------------- |
| uid        | 用户id、int、必选         |
| is_manager | 管理员标记、boolean、必选 |

```json
// 管理员查看团体的申请请求
{
    "uid": 2135220,
    "is_manager": true
}

// 非管理员查看发送的团体申请信息
{
    "uid": 30359251,
    "is_manager": false
}
```

返回响应：

| 数据 | 说明                |
| ---- | ------------------- |
| msg  | 返回说明、string    |
| list | 申请信息数组、array |

```json
// is_manager = true
{
    "msg": "请求成功",
    "list": [
        {
            "uid": 30359251,
            "user_name": "小二",
            "gid": 63227680,
            "group_name": "buaa",
            "content": "我要上摆航",
            "time": "2023-11-08 22:40:09"
        }
    ]
}

// is_manager = false
{
    "msg": "请求成功",
    "list": [
        {
            "gid": 63227680,
            "group_name": "buaa",
            "time": "2023-11-08 22:40:09",
            "status": "申请中"
        }
    ]
}
```



### 2.4 处理团体申请信息

请求 URL：`http://127.0.0.1:8000/api/group/apply`

请求方式：`POST`

请求参数（application/json）：

| 参数 | 说明                                             |
| ---- | ------------------------------------------------ |
| mid  | 管理员id、int、必选                              |
| uid  | 申请人id、int、必选                              |
| gid  | 团体id、int、必选                                |
| res  | 是否同意、boolean、必选、`true`同意，`false`拒绝 |

```json
{
    "mid": 123456,
    "uid": 10086,
    "gid": 87069784,
    "res": false
}
```

返回响应：

| 数据   | 说明             |
| ------ | ---------------- |
| msg    | 返回说明、string |
| status | 状态、boolean    |

```json
{
    "msg": "处理完成",
    "status": true
}
```

前端约束：

- 保证团体申请信息数据在数据库中


<br>

## 三、场地相关

### 3.1 新增场地信息（后端使用）

请求 URL：`http://127.0.0.1:8000/api/field/add`

请求方式：`POST`

请求参数（application/json）：

| 参数       | 说明                    |
| ---------- | ----------------------- |
| category   | 类别、string、必选      |
| location   | 位置、string、必选      |
| limit      | 场地限制、boolean、必选 |
| open_time  | 开始时间、time、必选    |
| close_time | 结束时间、time、必选    |

```json
{
    "category": "篮球场",
    "location": "运动场一号篮球场",
    "limit": true,
    "open_time": "06:00",
    "close_time": "22:00"
}
```

返回响应：

| 数据 | 说明             |
| ---- | ---------------- |
| msg  | 返回说明、string |

```json
{
    "msg": "场地信息添加成功"
}
```



### 3.2 查询场地信息

请求 URL：`http://127.0.0.1:8000/api/field/view`

请求方式：`GET`

查询参数：

| 参数     | 说明                   |
| -------- | ---------------------- |
| category | 场地类别、string、可选 |

```json
{
    "category": "篮球场"
}
```

返回响应：

- `category`为空时：

  | 数据 | 说明                  |
  | ---- | --------------------- |
  | msg  | 返回说明、string      |
  | list | 运动场类别数组、array |

  ```json
  {
      "msg": "场地信息请求成功",
      "list": [
          "篮球场",
          "排球场"
      ]
  }
  ```

- `category`非空时：

  | 数据 | 说明                    |
  | ---- | ----------------------- |
  | msg  | 返回说明、string        |
  | list | 场地详细信息数组、array |

  ```json
  {
      "msg": "场地信息请求成功",
      "list": [
          {
              "fid": 24406162,
              "location": "运动场二号篮球场",
              "open_time": "06:00:00",
              "close_time": "22:00:00"
          },
          {
              "fid": 69099027,
              "location": "运动场一号篮球场",
              "open_time": "06:00:00",
              "close_time": "22:00:00"
          }
      ]
  }
  ```



### 3.3 查看场地使用情况

请求 URL：`http://127.0.0.1:8000/api/field/usage`

请求方式：`GET`

查询参数：






<br>

## 四、活动相关





<br>

## 五、器材相关

### 5.1 新增器材信息（后端使用）

请求 URL：`http://127.0.0.1:8000/api/equipment/add`

请求方式：`POST`

请求参数（application/json）：

| 参数     | 说明               |
| -------- | ------------------ |
| category | 类别、string、必选 |
| amount   | 数量、int、必选    |

```json
{
    "category": "篮球",
    "amount": 20
}
```

返回响应：

| 数据 | 说明             |
| ---- | ---------------- |
| msg  | 返回说明、string |

```json
{
    "msg": "场地信息添加成功"
}
```



### 5.2 查看器材信息

请求 URL：`http://127.0.0.1:8000/api/equipment/view`

请求方式：`GET`

查询参数：

| 参数     | 说明                   |
| -------- | ---------------------- |
| category | 器材类别、string、可选 |

```json
{
    "category": "篮球"
}
```

返回响应：

- `category`为空时：

  | 数据 | 说明                  |
  | ---- | --------------------- |
  | msg  | 返回说明、string      |
  | list | 运动场类别数组、array |

- `category`非空时：

  | 数据 | 说明                  |
  | ---- | --------------------- |
  | msg  | 返回说明、string      |
  | list | 运动场类别数组、array |