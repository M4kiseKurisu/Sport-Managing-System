# 接口文档

## 一、用户相关

### 1.1 用户登录验证

请求 URL：`http://127.0.0.1:8000/api/user/login`

请求方式：`GET`

查询参数：

| 参数     | 说明               |
| -------- | ------------------ |
| account  | 账号、string、必需 |
| password | 密码、string、必需 |

```json
{
    "account": "fyb123",
    "password": "fyb321"
}
```

返回响应：

| 数据      | 说明              |
| --------- | ----------------- |
| msg       | 返回说明、string  |
| res       | 登录状态、boolean |
| uid       | 用户id、int       |
| user_name | 用户名、string    |

```json
{
    "msg": "登录成功",
    "res": true,
    "uid": 100000,
    "user_name": "fyb",
}
```



### 1.2 用户注册

请求 URL：`http://127.0.0.1:8000/api/user/register`

请求方式：`POST`

请求参数（application/json）：

| 参数           | 说明                                  |
| -------------- | ------------------------------------- |
| account        | 账号、string、必选                    |
| password       | 密码、string、必选                    |
| user_name      | 用户名、string、必选                  |
| user_age       | 用户年龄、string、必选                |
| user_gender    | 用户性别、int、必选、0表示女，1表示男 |
| phone_number   | 电话号码、int、必选                   |
| email          | 邮箱、string、必选                    |
| user_signature | 个性签名、string、必选                |

```json
{
    "account": "fyb123",
    "password": "fyb321",
    "user_name": "贴吧第一美男子",
    "user_age": 10,
    "user_gender": 0,
    "phone_number": 12345678910,
    "email": "sb@outlook.com",
    "user_signature": "抽象",
}
```

返回响应：

| 数据      | 说明             |
| --------- | ---------------- |
| msg       | 返回说明、string |
| uid       | 用户id、int      |
| user_name | 用户名、string   |

```json
{
    "msg": "注册成功",
    "uid": 10086,
    "user_name": "贴吧第一美男子",
}
```

<br>

## 二、团体相关

### 2.1 用户创建团体

请求 URL：`http://127.0.0.1:8000/api/group/create`

请求方式：`POST`

请求参数（application/json）：

| 参数       | 说明                   |
| ---------- | ---------------------- |
| uid        | 用户id、int、必选      |
| group_name | 团体名、string、必选   |
| group_desc | 团体描述、string、必选 |

```json
{
    "uid": 110,
    "group_name": "buaa",
    "group_desc": "世界第一大专",
}
```

返回响应：

| 数据       | 说明             |
| ---------- | ---------------- |
| msg        | 返回说明、string |
| group_name | 团体名、string   |
| gid        | 团体id、int      |

```json
{
    "msg": "团体创建成功",
    "group_name": "buaa",
    "gid": 111111,
}
```



### 2.2 用户申请加入团体

请求 URL：`http://127.0.0.1:8000/api/group/join`

请求方式：`POST`

请求参数（application/json）：

| 参数    | 说明                   |
| ------- | ---------------------- |
| uid     | 用户id、int、必选      |
| gid     | 团体id、int、必选      |
| content | 申请信息、String、必选 |

```json
{
    "uid": 10086,
    "gid": 12345678,
    "content": "我要上摆航"
}
```

返回响应：

| 数据   | 说明              |
| ------ | ----------------- |
| msg    | 返回说明、string  |
| status | 申请状态、boolean |

```json
{
    "msg": "团体申请成功",
    "status": true, 
}
```

前端约束：

- 保证 uid、gid 相关数据在数据库中
- 保证用户 uid 未加入团体 gid



### 2.3 查看团体申请信息

请求 URL：`http://127.0.0.1:8000/api/group/apply`

请求方式：`GET`

查询参数：

| 参数       | 说明                      |
| ---------- | ------------------------- |
| uid        | 用户id、int、必选         |
| is_manager | 管理员标记、boolean、必选 |

```json
// 管理员查看团体的申请请求
{
    "uid": 10086,
    "is_manager": true,
}

// 非管理员查看发送的团体申请信息
{
    "uid": 10086,
    "is_manager": false,
}
```

返回响应：

| 数据 | 说明                |
| ---- | ------------------- |
| msg  | 返回说明、string    |
| list | 申请信息数组、array |

```json
// is_manager = true
{
    "msg": "请求成功",
    "list": "[
        {
            uid: 123400,
            user_name: 小胖,
            gid: 110,
            group_name: BUAA
        },
        
    ]"
}

// is_manager = false
{
    
}
```

